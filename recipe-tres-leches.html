<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tres Leches Cake | Familia, Amigos Y Comida</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
<script src="/js/nd-daytona-script.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="site-title">Familia, Amigos Y Comida</h1>
            <h2 class="site-title-en">Family, Friends, & Food</h2>
            <p class="site-subtitle">Recipes from the heart, shared with love</p>
        </div>
    </header>
    
    <nav class="main-nav">
        <div class="container nav-container">
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="recipes.html">All Recipes</a></li>
                <li><a href="categories.html">Categories</a></li>
                <li><a href="submit-recipe.html">Submit Recipe</a></li>
                <li><a href="favorites.html">My Favorites</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="login.html" id="login-link">Login</a></li>
                <li><a href="register.html" id="register-link">Register</a></li>
            </ul>
        </div>
    </nav>
    
    <main>
        <div class="container">
            <div class="recipe-detail">
                <div class="recipe-detail-header">
                    <h2 class="recipe-detail-title">Tres Leches Cake</h2>
                    <div class="recipe-detail-meta">
                        <span class="recipe-author">By Maria Rodriguez</span>
                        <span class="recipe-date">August 28, 2025</span>
                        <div class="recipe-actions">
                            <button class="favorite-button" id="favorite-button" title="Add to favorites">♥</button>
                            <span id="favorite-status" style="margin-left: 5px; font-size: 0.9rem;"></span>
                        </div>
                    </div>
                </div>
                
                <img src="https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Tres Leches Cake" class="recipe-detail-image">
                
                <div class="recipe-detail-intro">
                    <p>Tres Leches Cake, or "Three Milks Cake," is a beloved Latin American dessert that has been in my family for generations. This light and airy sponge cake is soaked in a sweet mixture of three different types of milk: evaporated milk, condensed milk, and heavy cream. The result is an incredibly moist cake with a unique texture that's somehow both rich and light at the same time. Topped with a cloud of whipped cream and fresh berries, it's the perfect dessert for any celebration or family gathering.</p>
                </div>
                
                <div class="recipe-info">
                    <div class="recipe-time">
                        <div class="info-item">
                            <span class="info-label">Prep Time:</span>
                            <span class="info-value">30 minutes</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Cook Time:</span>
                            <span class="info-value">25 minutes</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Chill Time:</span>
                            <span class="info-value">4 hours</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Total Time:</span>
                            <span class="info-value">4 hours 55 minutes</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Servings:</span>
                            <span class="info-value">12</span>
                        </div>
                    </div>
                </div>
                
                <h3 class="recipe-section-title">Ingredients</h3>
                <h4>For the Cake:</h4>
                <ul class="ingredients-list">
                    <li>1 cup all-purpose flour</li>
                    <li>1 1/2 teaspoons baking powder</li>
                    <li>1/4 teaspoon salt</li>
                    <li>5 large eggs, separated</li>
                    <li>1 cup granulated sugar, divided</li>
                    <li>1/3 cup whole milk</li>
                    <li>1 teaspoon vanilla extract</li>
                </ul>
                
                <h4>For the Three Milk Mixture:</h4>
                <ul class="ingredients-list">
                    <li>1 can (14 oz) sweetened condensed milk</li>
                    <li>1 can (12 oz) evaporated milk</li>
                    <li>1/2 cup heavy cream</li>
                    <li>1 tablespoon rum (optional)</li>
                    <li>1 teaspoon vanilla extract</li>
                </ul>
                
                <h4>For the Topping:</h4>
                <ul class="ingredients-list">
                    <li>2 cups heavy cream</li>
                    <li>1/4 cup powdered sugar</li>
                    <li>1 teaspoon vanilla extract</li>
                    <li>Fresh berries for garnish (strawberries, blueberries, raspberries)</li>
                    <li>Ground cinnamon for dusting (optional)</li>
                </ul>
                
                <h3 class="recipe-section-title">Instructions</h3>
                <ol class="instructions-list">
                    <li>Preheat the oven to 350°F (175°C). Grease a 9x13 inch baking dish.</li>
                    <li>In a medium bowl, whisk together the flour, baking powder, and salt.</li>
                    <li>In a large bowl, beat the egg yolks with 3/4 cup of sugar until pale and creamy, about 2 minutes.</li>
                    <li>Stir in the milk and vanilla extract.</li>
                    <li>Gradually fold the flour mixture into the egg yolk mixture until just combined. Do not overmix.</li>
                    <li>In a separate clean bowl, beat the egg whites until soft peaks form.</li>
                    <li>Gradually add the remaining 1/4 cup of sugar while continuing to beat until stiff peaks form.</li>
                    <li>Gently fold the egg whites into the batter until just combined, being careful not to deflate the egg whites.</li>
                    <li>Pour the batter into the prepared baking dish and smooth the top.</li>
                    <li>Bake for 25-30 minutes, or until a toothpick inserted in the center comes out clean.</li>
                    <li>Allow the cake to cool completely in the pan on a wire rack, about 30 minutes.</li>
                    <li>Once cooled, use a fork to poke holes all over the cake.</li>
                    <li>In a large bowl, whisk together the sweetened condensed milk, evaporated milk, heavy cream, rum (if using), and vanilla extract.</li>
                    <li>Slowly pour the milk mixture over the cake, allowing it to soak in. You may need to pause occasionally to let the liquid absorb.</li>
                    <li>Cover the cake with plastic wrap and refrigerate for at least 4 hours, or preferably overnight.</li>
                    <li>Before serving, prepare the topping by beating the heavy cream, powdered sugar, and vanilla extract until stiff peaks form.</li>
                    <li>Spread the whipped cream over the chilled cake.</li>
                    <li>Garnish with fresh berries and a light dusting of cinnamon if desired.</li>
                    <li>Slice and serve directly from the baking dish, keeping the cake refrigerated when not serving.</li>
                </ol>
                
                <h3 class="recipe-section-title">Notes</h3>
                <div class="recipe-notes">
                    <p>For the best texture, make sure all ingredients are at room temperature before beginning.</p>
                    <p>The cake needs time to absorb the milk mixture, so don't rush the chilling process. Overnight is ideal for maximum flavor.</p>
                    <p>This cake must be stored in the refrigerator due to the dairy content. It will keep well for up to 4 days.</p>
                    <p>For a twist, try adding a teaspoon of cinnamon or a tablespoon of orange zest to the cake batter.</p>
                    <p>If you prefer a less sweet version, reduce the sugar in the cake to 3/4 cup total.</p>
                </div>
                
                <div class="recipe-detail-tags">
                    <h3 class="recipe-section-title">Categories</h3>
                    <div class="recipe-tags">
                        <span class="recipe-tag">Dessert</span>
                        <span class="recipe-tag">Family Favorite</span>
                        <span class="recipe-tag">Latin American</span>
                        <span class="recipe-tag">Holiday</span>
                    </div>
                </div>
                
                <div class="recipe-share">
                    <h3 class="recipe-section-title">Share This Recipe</h3>
                    <div class="share-buttons">
                        <a href="#" class="share-button">Facebook</a>
                        <a href="#" class="share-button">Twitter</a>
                        <a href="#" class="share-button">Pinterest</a>
                        <a href="#" class="share-button">Email</a>
                    </div>
                </div>
                
                <div class="recipe-comments">
                    <h3 class="recipe-section-title">Comments</h3>
                    <div class="comments-login-message">
                        <p>Please <a href="login.html">login</a> to leave a comment.</p>
                    </div>
                </div>
            </div>
            
            <div class="related-recipes">
                <h3 class="section-title">You Might Also Like</h3>
                <div class="recipe-grid">
                    <div class="recipe-card">
                        <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Homemade Churros" class="recipe-image">
                        <div class="recipe-content">
                            <h3 class="recipe-title">Homemade Churros</h3>
                            <p class="recipe-description">Crispy on the outside, soft on the inside, these churros are perfect for any celebration.</p>
                            <div class="recipe-tags">
                                <span class="recipe-tag">Dessert</span>
                                <span class="recipe-tag">Holiday</span>
                            </div>
                            <a href="recipe-churros.html" class="recipe-link">View Recipe</a>
                        </div>
                    </div>
                    
                    <div class="recipe-card">
                        <img src="https://images.unsplash.com/photo-1551183053-bf91a1d81141?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Abuela's Enchiladas" class="recipe-image">
                        <div class="recipe-content">
                            <h3 class="recipe-title">Abuela's Enchiladas</h3>
                            <p class="recipe-description">A family recipe passed down through generations, these enchiladas are the perfect comfort food.</p>
                            <div class="recipe-tags">
                                <span class="recipe-tag">Main Dish</span>
                                <span class="recipe-tag">Family Favorite</span>
                            </div>
                            <a href="recipe-detail.html" class="recipe-link">View Recipe</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container footer-content">
            <nav class="footer-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="recipes.html">All Recipes</a></li>
                    <li><a href="categories.html">Categories</a></li>
                    <li><a href="submit-recipe.html">Submit Recipe</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                </ul>
            </nav>
            
            <div class="newsletter-signup">
                <h3>Stay Updated</h3>
                <p>Sign up to receive notifications when new recipes are added!</p>
                <form class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Your email address" required>
                    <button type="submit" class="newsletter-button">Subscribe</button>
                </form>
            </div>
            
            <p class="copyright">&copy; 2025 Familia, Amigos Y Comida by John Simpson. All rights reserved.</p>
        </div>
    </footer>
    
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Favorite button functionality
            const favoriteButton = document.getElementById('favorite-button');
            const favoriteStatus = document.getElementById('favorite-status');
            
            if (favoriteButton) {
                // Check if user is logged in
                const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
                
                if (!isLoggedIn) {
                    // If not logged in, show login message
                    favoriteButton.style.display = 'none';
                    favoriteStatus.innerHTML = '<a href="login.html">Login</a> to save this recipe to your favorites';
                } else {
                    // If logged in, check if recipe is already favorited
                    const recipeId = '4'; // ID for Tres Leches Cake
                    const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
                    const isFavorite = favorites.includes(recipeId);
                    
                    // Update button state
                    updateFavoriteButton(isFavorite);
                    
                    // Add click event
                    favoriteButton.addEventListener('click', function() {
                        toggleFavorite(recipeId);
                    });
                }
            }
            
            // Function to toggle favorite status
            function toggleFavorite(recipeId) {
                let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
                const index = favorites.indexOf(recipeId);
                
                if (index === -1) {
                    // Add to favorites
                    favorites.push(recipeId);
                    updateFavoriteButton(true);
                    favoriteStatus.textContent = 'Added to favorites!';
                    setTimeout(() => { favoriteStatus.textContent = ''; }, 2000);
                } else {
                    // Remove from favorites
                    favorites.splice(index, 1);
                    updateFavoriteButton(false);
                    favoriteStatus.textContent = 'Removed from favorites';
                    setTimeout(() => { favoriteStatus.textContent = ''; }, 2000);
                }
                
                // Save updated favorites
                localStorage.setItem('favorites', JSON.stringify(favorites));
            }
            
            // Function to update favorite button appearance
            function updateFavoriteButton(isFavorite) {
                if (isFavorite) {
                    favoriteButton.classList.add('active');
                    favoriteButton.title = 'Remove from favorites';
                } else {
                    favoriteButton.classList.remove('active');
                    favoriteButton.title = 'Add to favorites';
                }
            }
        });
    </script>
</body>
</html>