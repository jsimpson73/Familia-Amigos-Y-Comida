<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abuela's Enchiladas | Familia, Amigos Y Comida</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="site-title">Familia, Amigos Y Comida</h1>
            <h2 class="site-title-en">Family, Friends, & Food</h2>
            <p class="site-subtitle">Recipes from the heart, shared with love</p>
        </div>
    </header>
    
    <nav class="main-nav">
        <div class="container nav-container">
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="recipes.html">All Recipes</a></li>
                <li><a href="categories.html">Categories</a></li>
                <li><a href="submit-recipe.html">Submit Recipe</a></li>
                <li><a href="favorites.html">My Favorites</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="login.html" id="login-link">Login</a></li>
                <li><a href="register.html" id="register-link">Register</a></li>
            </ul>
        </div>
    </nav>
    
    <main>
        <div class="container">
            <div class="recipe-detail">
                <div class="recipe-detail-header">
                    <h2 class="recipe-detail-title">Abuela's Enchiladas</h2>
                    <div class="recipe-detail-meta">
                        <span class="recipe-author">By John Simpson</span>
                        <span class="recipe-date">September 15, 2025</span>
                        <div class="recipe-actions">
                            <button class="favorite-button" id="favorite-button" title="Add to favorites">♥</button>
                            <span id="favorite-status" style="margin-left: 5px; font-size: 0.9rem;"></span>
                        </div>
                    </div>
                </div>
                
                <img src="https://images.unsplash.com/photo-1551183053-bf91a1d81141?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Abuela's Enchiladas" class="recipe-detail-image">
                
                <div class="recipe-detail-intro">
                    <p>This enchilada recipe has been in our family for generations. My grandmother (Abuela) used to make these enchiladas for special family gatherings, and the recipe has been passed down through the years. The combination of tender chicken, homemade sauce, and melted cheese creates a dish that's both comforting and flavorful. It's perfect for bringing the family together around the table.</p>
                </div>
                
                <div class="recipe-info">
                    <div class="recipe-time">
                        <div class="info-item">
                            <span class="info-label">Prep Time:</span>
                            <span class="info-value">30 minutes</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Cook Time:</span>
                            <span class="info-value">45 minutes</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Total Time:</span>
                            <span class="info-value">1 hour 15 minutes</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Servings:</span>
                            <span class="info-value">6</span>
                        </div>
                    </div>
                </div>
                
                <h3 class="recipe-section-title">Ingredients</h3>
                <ul class="ingredients-list">
                    <li>3 cups cooked, shredded chicken</li>
                    <li>2 cups red enchilada sauce (homemade or store-bought)</li>
                    <li>12 corn tortillas</li>
                    <li>3 cups shredded Monterey Jack cheese</li>
                    <li>1 medium onion, finely chopped</li>
                    <li>3 cloves garlic, minced</li>
                    <li>1 tablespoon olive oil</li>
                    <li>1 teaspoon ground cumin</li>
                    <li>1 teaspoon dried oregano</li>
                    <li>1/2 teaspoon salt</li>
                    <li>1/4 teaspoon black pepper</li>
                    <li>1/4 cup chopped fresh cilantro, plus more for garnish</li>
                    <li>Sour cream, for serving</li>
                    <li>Sliced avocado, for serving</li>
                </ul>
                
                <h3 class="recipe-section-title">Instructions</h3>
                <ol class="instructions-list">
                    <li>Preheat the oven to 350°F (175°C). Lightly grease a 9x13 inch baking dish.</li>
                    <li>In a large skillet, heat the olive oil over medium heat. Add the onion and cook until softened, about 5 minutes.</li>
                    <li>Add the garlic and cook for another minute until fragrant.</li>
                    <li>Stir in the shredded chicken, cumin, oregano, salt, and pepper. Cook for 2-3 minutes to blend the flavors.</li>
                    <li>Remove from heat and stir in 1/4 cup of the enchilada sauce and the chopped cilantro.</li>
                    <li>Pour 1/2 cup of enchilada sauce into the bottom of the prepared baking dish, spreading it evenly.</li>
                    <li>Warm the tortillas to make them pliable. You can do this by wrapping them in a damp paper towel and microwaving for 30 seconds, or by heating them briefly in a dry skillet.</li>
                    <li>Fill each tortilla with about 1/4 cup of the chicken mixture and a sprinkle of cheese. Roll up and place seam-side down in the baking dish.</li>
                    <li>Pour the remaining enchilada sauce over the rolled tortillas and sprinkle with the remaining cheese.</li>
                    <li>Bake for 25-30 minutes, or until the cheese is melted and bubbly and the enchiladas are heated through.</li>
                    <li>Let stand for 5 minutes before serving. Garnish with additional cilantro, sour cream, and sliced avocado.</li>
                </ol>
                
                <h3 class="recipe-section-title">Notes</h3>
                <div class="recipe-notes">
                    <p>For a spicier version, add a diced jalapeño to the chicken mixture or use a spicy enchilada sauce. You can also make these enchiladas ahead of time and refrigerate before baking. Just add an extra 10-15 minutes to the baking time if cooking from cold.</p>
                    <p>Leftover enchiladas can be stored in an airtight container in the refrigerator for up to 3 days. Reheat in the microwave or in a 350°F oven until heated through.</p>
                </div>
                
                <div class="recipe-detail-tags">
                    <h3 class="recipe-section-title">Categories</h3>
                    <div class="recipe-tags">
                        <span class="recipe-tag">Main Dish</span>
                        <span class="recipe-tag">Family Favorite</span>
                        <span class="recipe-tag">Dinner</span>
                    </div>
                </div>
                
                <div class="recipe-share">
                    <h3 class="recipe-section-title">Share This Recipe</h3>
                    <div class="share-buttons">
                        <a href="#" class="share-button">Facebook</a>
                        <a href="#" class="share-button">Twitter</a>
                        <a href="#" class="share-button">Pinterest</a>
                        <a href="#" class="share-button">Email</a>
                    </div>
                </div>
                
                <div class="recipe-comments">
                    <h3 class="recipe-section-title">Comments</h3>
                    <div class="comments-login-message">
                        <p>Please <a href="login.html">login</a> to leave a comment.</p>
                    </div>
                </div>
            </div>
            
            <div class="related-recipes">
                <h3 class="section-title">You Might Also Like</h3>
                <div class="recipe-grid">
                    <div class="recipe-card">
                        <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Homemade Churros" class="recipe-image">
                        <div class="recipe-content">
                            <h3 class="recipe-title">Homemade Churros</h3>
                            <p class="recipe-description">Crispy on the outside, soft on the inside, these churros are perfect for any celebration.</p>
                            <div class="recipe-tags">
                                <span class="recipe-tag">Dessert</span>
                                <span class="recipe-tag">Holiday</span>
                            </div>
                            <a href="recipe-detail.html" class="recipe-link">View Recipe</a>
                        </div>
                    </div>
                    
                    <div class="recipe-card">
                        <img src="https://images.unsplash.com/photo-1515516969-d4008cc6241a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Sunday Paella" class="recipe-image">
                        <div class="recipe-content">
                            <h3 class="recipe-title">Sunday Paella</h3>
                            <p class="recipe-description">This vibrant and flavorful paella is perfect for Sunday family gatherings.</p>
                            <div class="recipe-tags">
                                <span class="recipe-tag">Main Dish</span>
                                <span class="recipe-tag">Weekend</span>
                            </div>
                            <a href="recipe-detail.html" class="recipe-link">View Recipe</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container footer-content">
            <nav class="footer-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="recipes.html">All Recipes</a></li>
                    <li><a href="categories.html">Categories</a></li>
                    <li><a href="submit-recipe.html">Submit Recipe</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                </ul>
            </nav>
            
            <div class="newsletter-signup">
                <h3>Stay Updated</h3>
                <p>Sign up to receive notifications when new recipes are added!</p>
                <form class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Your email address" required>
                    <button type="submit" class="newsletter-button">Subscribe</button>
                </form>
            </div>
            
            <p class="copyright">&copy; 2025 Familia, Amigos Y Comida by John Simpson. All rights reserved.</p>
        </div>
    </footer>
    
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Favorite button functionality
            const favoriteButton = document.getElementById('favorite-button');
            const favoriteStatus = document.getElementById('favorite-status');
            
            if (favoriteButton) {
                // Check if user is logged in
                const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
                
                if (!isLoggedIn) {
                    // If not logged in, show login message
                    favoriteButton.style.display = 'none';
                    favoriteStatus.innerHTML = '<a href="login.html">Login</a> to save this recipe to your favorites';
                } else {
                    // If logged in, check if recipe is already favorited
                    const recipeId = getRecipeIdFromUrl() || '1'; // Default to 1 for demo
                    const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
                    const isFavorite = favorites.includes(recipeId);
                    
                    // Update button state
                    updateFavoriteButton(isFavorite);
                    
                    // Add click event
                    favoriteButton.addEventListener('click', function() {
                        toggleFavorite(recipeId);
                    });
                }
            }
            
            // Function to toggle favorite status
            function toggleFavorite(recipeId) {
                let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
                const index = favorites.indexOf(recipeId);
                
                if (index === -1) {
                    // Add to favorites
                    favorites.push(recipeId);
                    updateFavoriteButton(true);
                    favoriteStatus.textContent = 'Added to favorites!';
                    setTimeout(() => { favoriteStatus.textContent = ''; }, 2000);
                } else {
                    // Remove from favorites
                    favorites.splice(index, 1);
                    updateFavoriteButton(false);
                    favoriteStatus.textContent = 'Removed from favorites';
                    setTimeout(() => { favoriteStatus.textContent = ''; }, 2000);
                }
                
                // Save updated favorites
                localStorage.setItem('favorites', JSON.stringify(favorites));
            }
            
            // Function to update favorite button appearance
            function updateFavoriteButton(isFavorite) {
                if (isFavorite) {
                    favoriteButton.classList.add('active');
                    favoriteButton.title = 'Remove from favorites';
                } else {
                    favoriteButton.classList.remove('active');
                    favoriteButton.title = 'Add to favorites';
                }
            }
            
            // Function to get recipe ID from URL
            function getRecipeIdFromUrl() {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get('id');
            }
        });
    </script>
</body>
</html>